#include "main.h"
#include "ftdi_dev_cfg.h"
//对于93LC46B(1Kbit)，这里确实是只有0x40个16bit数，但是根据文档说明，vivado on linux不好使，windows可以，模拟93LC56B（2kbit)的话，windows和linux都可以。93lc46的eeprom布局不一样
/*真的FT2232编程后 93c46,确定可用*/
#if (FTDI_DEV==FT2232H)&&(EEPROM==EEPROM_93C46)
const uint16_t ftdi_eeprom_info[] =
{
    0x0801, 0x0403, 0x6010, 0x0700, 0x3280, 0x0008, 0x0000, 0x0E9A,
    0x12A8, 0x0EBA, 0x0000, 0x0000, 0x0046, 0x030E, 0x0058, 0x0069,
    0x006C, 0x0069, 0x006E, 0x0078, 0x0312, 0x0072, 0x0065, 0x0076,
    0x0031, 0x0061, 0x005F, 0x0032, 0x0032, 0x030E, 0x0030, 0x0031,
    0x0032, 0x0033, 0x0034, 0x0035, 0x0302, 0x0000, 0x0003, 0x584A,
    0x6C41, 0x6177, 0x7379, 0x5400, 0x5453, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0EAF
};//校验位实际上不影响使用，第一位必须对上，这里2232是0801，否则vivado不认
#elif (FTDI_DEV==FT232H)&&(EEPROM==EEPROM_93C56)
//这个是FT232H的提取的内容
const uint16_t ftdi_eeprom_info[] =
{
	0x0001, 0x0403, 0x6014, 0x0900, 0x3280, 0x0008, 0x0000, 0x0EA0,
	0x12AE, 0x0EC0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0056,
	0x0002, 0x584A, 0x6C41, 0x6177, 0x7973, 0x5700, 0x4843, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0048, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x030E, 0x0058, 0x0069, 0x006C, 0x0069, 0x006E, 0x0078, 0x0312,
	0x0072, 0x0065, 0x0076, 0x0031, 0x0062, 0x005F, 0x0036, 0x0036,
	0x030E, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035, 0x0302,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xF23A
};
#elif (FTDI_DEV==FT2232H)&&(EEPROM==EEPROM_93C56)
//TODO:下面这个没更新，不是提取的，是猜出来的，有空读一个。
const uint16_t ftdi_eeprom_info[] =
{
	0x0801, 0x0403, 0x6010, 0x0700, 0x3280, 0x0008, 0x0000, 0x0EA0,
	0x12AE, 0x0EC0, 0x0000, 0x0000, 0x0056, 0x0000, 0x0000, 0x5356,
	0x0003, 0x584A, 0x6C41, 0x6177, 0x7379, 0x5700, 0x4843, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0048, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x030E, 0x0058, 0x0069, 0x006C, 0x0069, 0x006E, 0x0078, 0x0312,
	0x0072, 0x0065, 0x0076, 0x0031, 0x0062, 0x005F, 0x0034, 0x0036,
	0x030E, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035, 0x0302,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xA26E
};
#else 
const uint16_t ftdi_eeprom_info[] =
{
    0x0801, 0x0403, 0x6010, 0x0700, 0x3280, 0x0008, 0x0000, 0x0E9A,
    0x12A8, 0x0EBA, 0x0000, 0x0000, 0x0046, 0x030E, 0x0058, 0x0069,
    0x006C, 0x0069, 0x006E, 0x0078, 0x0312, 0x0072, 0x0065, 0x0076,
    0x0031, 0x0061, 0x005F, 0x0032, 0x0032, 0x030E, 0x0030, 0x0031,
    0x0032, 0x0033, 0x0034, 0x0035, 0x0302, 0x0000, 0x0003, 0x584A,
    0x6C41, 0x6177, 0x7379, 0x5400, 0x5453, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0EAF
};//校验位实际上不影响使用，第一位必须对上，这里2232是0801，否则vivado不认
#endif



// Manufacturer, ManufacturerId, Description and SerialNumber strings is 48 words,最多有48个字（16bbit),有16个字用于配置ft2232,根据文档猜测，最后一个一定是SerialNumber
//93c56的用户空间则从0x1A开始（FT2232H) |
// static uint16_t ftdi_eeprom_info[] =
// {
//  unknown，VID,   PID,    bcd?ser?,   ser?   ,DevType?,usbv,  
// 	0x0800, 0x0403, 0x6010, 0x0500, 0x3280, 0x0000, 0x0200, 0x1096, //修改第四位没用,似乎改成600才是高速，修改第六位看起来也没用
// 	0x1aa6, 0x0000, 0x0046, 0x0310, 0x004f, 0x0070, 0x0065, 0x006e,
// 	0x002d, 0x0045, 0x0043, 0x031a, 0x0055, 0x0053, 0x0042, 0x0020,
// 	0x0044, 0x0065, 0x0062, 0x0075, 0x0067, 0x0067, 0x0065, 0x0072,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x1027 
// };
// static uint16_t ftdi_eeprom_info[] =
// {
// 	0x0800, 0x0403, 0x6010, 0x0600, 0x3280, 0x0000, 0x0200, 0x1096, 
// 	0x1aa6, 0x0000, 0x0056, 

// 	0x030e, 0x0046, 0x0069, 0x006c, 0x0069,	0x006e, 0x0078, 0x0078,       //Xilinx 第三行一定是manufacturer（Manufacturer desc), 030e 中的0e代表这个字符的长度（bytes),不知道为啥最后多一个字读出来的才对
// 	0x031a, 0x0064, 0x0065, 0x0073, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035, 0x0036, 0x0037, 0x0038, 0x0039, //des012345678
// 	0x0000, 0x030e, 0x0058, 0x0069, 0x006c, 0x0069,	0x006e, 0x0078, 
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x1027 
// };
//对于FT2232H,EEPROM型号是ftdi_eeprom_info[12],对于FT2232D,EEPROM型号是ftdi_eeprom_info[10],FT232H则是ftdi_eeprom_info[15]
//6014是FT232H的PID

/* FT232H 93C56的配置改2232，自己改的，有时候不可用。。 */
// static uint16_t ftdi_eeprom_info[] =
// {
// 	0x0801, 0x0403, 0x6010, 0x0700, 0x3280, 0x0008, 0x0000, 0x0EA0,
// 	0x12AE, 0x0EC0, 0x0000, 0x0000, 0x0056, 0x0000, 0x0000, 0x5356,
// 	0x0003, 0x584A, 0x6C41, 0x6177, 0x7379, 0x5700, 0x4843, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0048, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x030E, 0x0058, 0x0069, 0x006C, 0x0069, 0x006E, 0x0078, 0x0312,
// 	0x0072, 0x0065, 0x0076, 0x0031, 0x0062, 0x005F, 0x0034, 0x0036,
// 	0x030E, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035, 0x0302,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
// 	0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xA26E
// };//584A前一位必须和器件对上，否则不认